numerous sensitive databases are breached every year due to bugs in applications. these applications typically handle data for many users, and consequently, they have access to large amounts of confidential information. this paper describes ifdb, a dbms that secures databases by using decentralized information flow control (difc). we present the query by label model, which introduces new abstractions for managing information flows in a relational database. ifdb also addresses several challenges inherent in bringing difc to databases, including how to handle transactions and integrity constraints without introducing covert channels. we implemented ifdb by modifying postgresql, and extended two application environments, php and python, to provide a difc platform. ifdb caught several security bugs and prevented information leaks in two web applications we ported to the platform. our evaluation shows that ifdb's throughput is as good as postgresql for a real web application, and about 1% lower for a database benchmark based on tpc-c.