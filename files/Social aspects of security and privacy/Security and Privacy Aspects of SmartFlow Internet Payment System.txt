smart cards are replacing traditional magnetic cards for payment transactions. one of the main reasons is enhanced security capabilities that can be built in a smart card. with the high popularity of web technology, there is a trend towards smart cards being used as an electronic wallet for payment transactions on internet. most of the related work of smart card payment transactions concentrates only on the security aspects of hardware/firmware, encryption method and key management, or they only propose the online shopping protocol for uni-directional payment transaction based on the scenery of exact payment from the customer to merchant during business activity.we developed a prototype system called "smartflow" to demonstrate these kinds of business activities on internet by smart card. the main focus of this paper is to present the framework of "smartflow" and some important security and privacy issues for bi-directional payment transaction with change among more than two parties involved business activity. further, we present the application of downloading software license key from internet into smart card in smartflow environment. we have already implemented a prototype "smartflow" system with these functionalities.